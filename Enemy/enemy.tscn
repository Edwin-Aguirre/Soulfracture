[gd_scene load_steps=7 format=3 uid="uid://bumxhlt368cji"]

[ext_resource type="PackedScene" uid="uid://6i38w2poape5" path="res://Player/rig.tscn" id="1_2pb1h"]
[ext_resource type="Script" uid="uid://cue4vjmyg55xs" path="res://Enemy/enemy.gd" id="1_px1sc"]
[ext_resource type="PackedScene" uid="uid://ccqiaxecpb3fi" path="res://Player/health_component.tscn" id="3_am0pq"]
[ext_resource type="PackedScene" uid="uid://btqjv880rg5a0" path="res://Player/area_attack.tscn" id="3_eqilm"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_px1sc"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_am0pq"]

[node name="Enemy" type="CharacterBody3D"]
collision_layer = 9
script = ExtResource("1_px1sc")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_px1sc")

[node name="Rig" parent="." instance=ExtResource("1_2pb1h")]

[node name="Skeleton3D" parent="Rig/CharacterRig/GameRig" index="0"]
bones/0/position = Vector3(3.78899e-15, 0.89665, -0.0481736)
bones/2/rotation = Quaternion(-0.00211699, -0.000420542, 0.00321484, 0.999993)
bones/3/rotation = Quaternion(-0.0967379, -0.000383281, 0.00851991, 0.995273)
bones/4/rotation = Quaternion(0.277336, 1.53147e-08, 9.16231e-08, 0.960773)
bones/6/rotation = Quaternion(-0.155834, -1.17753e-07, -1.85768e-08, 0.987783)
bones/7/position = Vector3(-2.08491e-08, 0.896649, -0.0481734)
bones/8/position = Vector3(-4.38846e-08, 0.896649, -0.0481735)
bones/9/position = Vector3(0.131144, 0.962854, -0.0351291)
bones/9/rotation = Quaternion(0.992935, 0.0209159, -0.0309285, 0.112633)
bones/11/rotation = Quaternion(0.422566, -0.000700598, 0.000326798, 0.906332)
bones/13/rotation = Quaternion(-0.752602, 0.0118893, 0.0244096, 0.657915)
bones/15/position = Vector3(-0.131144, 0.962854, -0.0351291)
bones/15/rotation = Quaternion(0.972956, -0.00582749, 0.0272907, 0.229298)
bones/17/rotation = Quaternion(0.446469, 0.00330471, -0.00164905, 0.894792)
bones/19/rotation = Quaternion(-0.689155, -0.0281978, -0.000665576, 0.724064)
bones/21/position = Vector3(0.0251286, 1.42688, 0.042284)
bones/21/rotation = Quaternion(-0.493481, -0.257923, -0.399911, 0.728027)
bones/22/position = Vector3(0.188467, 1.46369, -0.0240868)
bones/22/rotation = Quaternion(0.0503329, -0.15962, 0.974417, -0.149998)
bones/23/rotation = Quaternion(6.11947e-08, -0.0155689, 5.27006e-08, 0.999879)
bones/24/rotation = Quaternion(0.298124, -0.0155696, -0.0182207, 0.954226)
bones/46/position = Vector3(-0.0113635, 1.42688, 0.042284)
bones/46/rotation = Quaternion(-0.512524, 0.219096, 0.373374, 0.741558)
bones/47/position = Vector3(-0.1668, 1.46413, -0.0407219)
bones/47/rotation = Quaternion(-0.0772384, -0.136496, 0.973052, 0.169032)
bones/48/rotation = Quaternion(8.7265e-08, 0.0122027, 5.45068e-08, 0.999926)
bones/49/rotation = Quaternion(0.330849, 0.0122032, 0.0289393, 0.943161)
bones/71/position = Vector3(0.127191, 1.34527, -0.0263926)
bones/71/rotation = Quaternion(1.92946e-08, 0.61325, 0.789889, -4.64261e-08)
bones/72/position = Vector3(-0.113426, 1.34527, -0.0263926)
bones/72/rotation = Quaternion(1.92946e-08, 0.61325, 0.789889, -4.6426e-08)

[node name="Knight_01" parent="Rig/CharacterRig/GameRig/Skeleton3D" index="0"]
visible = false

[node name="Villager_01" parent="Rig/CharacterRig/GameRig/Skeleton3D" index="2"]
visible = true

[node name="RightHandBone" parent="Rig" index="2"]
transform = Transform3D(-0.962342, -0.270806, -0.0237113, 0.241215, -0.890888, 0.384882, -0.125352, 0.364669, 0.922661, -0.340617, 0.982246, -0.0300782)

[node name="LeftHandBone" parent="Rig" index="3"]
transform = Transform3D(-0.970513, 0.239109, 0.0305207, -0.221698, -0.935123, 0.276396, 0.0946295, 0.26148, 0.960559, 0.345278, 0.970211, -0.0489526)

[node name="PlayerDetector" type="ShapeCast3D" parent="Rig"]
shape = SubResource("CapsuleShape3D_am0pq")
target_position = Vector3(0, 1, 1)
collision_mask = 4

[node name="AreaAttack" parent="Rig" instance=ExtResource("3_eqilm")]
target_position = Vector3(0, 1, 1)
collision_mask = 4

[node name="HealthComponent" parent="." instance=ExtResource("3_am0pq")]

[connection signal="heavy_attack" from="Rig" to="." method="_on_rig_heavy_attack"]
[connection signal="defeat" from="HealthComponent" to="." method="_on_health_component_defeat"]

[editable path="Rig"]
[editable path="Rig/CharacterRig"]
