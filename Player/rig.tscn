[gd_scene load_steps=13 format=3 uid="uid://6i38w2poape5"]

[ext_resource type="Script" uid="uid://c5rlwp5bjeib7" path="res://Player/rig.gd" id="1_wer68"]
[ext_resource type="PackedScene" uid="uid://chtju44gqb6oh" path="res://Assets/Character/CharacterRig.glb" id="1_ydo8n"]
[ext_resource type="PackedScene" uid="uid://c6kamm7jm0qh1" path="res://Assets/Character/Gear/Longsword.glb" id="3_ojd8b"]
[ext_resource type="PackedScene" uid="uid://barmotvqas48g" path="res://Assets/Character/Gear/Tall_Shield.glb" id="4_awthv"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ydo8n"]
animation = &"Run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_wer68"]
animation = &"Idle"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_ojd8b"]
blend_point_0/node = SubResource("AnimationNodeAnimation_ydo8n")
blend_point_0/pos = 1.0
blend_point_1/node = SubResource("AnimationNodeAnimation_wer68")
blend_point_1/pos = -1.0

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ojd8b"]
animation = &"Slash"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_awthv"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_32kt2"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8s7l5"]
xfade_time = 0.1
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_32kt2"]
states/MoveSpace/node = SubResource("AnimationNodeBlendSpace1D_ojd8b")
states/MoveSpace/position = Vector2(373, 100)
states/Slash/node = SubResource("AnimationNodeAnimation_ojd8b")
states/Slash/position = Vector2(373.224, 188)
states/Start/position = Vector2(192, 100)
transitions = ["Start", "MoveSpace", SubResource("AnimationNodeStateMachineTransition_awthv"), "MoveSpace", "Slash", SubResource("AnimationNodeStateMachineTransition_32kt2"), "Slash", "MoveSpace", SubResource("AnimationNodeStateMachineTransition_8s7l5")]
graph_offset = Vector2(-473.776, 43)

[node name="Rig" type="Node3D"]
script = ExtResource("1_wer68")

[node name="CharacterRig" parent="." instance=ExtResource("1_ydo8n")]

[node name="Skeleton3D" parent="CharacterRig/GameRig" index="0"]
bones/0/position = Vector3(0.0380327, 0.869303, 0.00390994)
bones/0/rotation = Quaternion(0.153111, 1.17804e-07, 1.82522e-08, 0.988209)
bones/1/rotation = Quaternion(-0.0486623, 0.00181339, 0.0286759, 0.998402)
bones/2/position = Vector3(8.39024e-10, 0.141375, 2.64893e-08)
bones/2/rotation = Quaternion(0.0219075, -0.00298328, -0.0495144, 0.998529)
bones/3/position = Vector3(4.22707e-09, 0.180738, 5.32397e-08)
bones/3/rotation = Quaternion(-0.2397, -0.00813964, 0.0281921, 0.970403)
bones/4/position = Vector3(-6.8045e-09, 0.0835672, -3.54334e-08)
bones/4/rotation = Quaternion(0.417134, 0.00346299, 0.0280403, 0.908406)
bones/5/rotation = Quaternion(-0.0948567, -5.18371e-09, -9.50161e-08, 0.995491)
bones/6/rotation = Quaternion(-0.191304, -0.00213532, -0.036143, 0.980863)
bones/7/position = Vector3(0.0380326, 0.869302, 0.00391004)
bones/7/rotation = Quaternion(-0.0717095, -0.740263, -0.403605, 0.53289)
bones/8/position = Vector3(0.0380326, 0.869302, 0.00390998)
bones/8/rotation = Quaternion(-0.0717094, 0.740263, 0.403605, 0.53289)
bones/9/position = Vector3(0.169176, 0.934678, 0.0205799)
bones/9/rotation = Quaternion(0.955522, -0.000849644, -0.0243548, 0.29391)
bones/10/position = Vector3(-1.23048e-08, 0.262684, 4.16649e-08)
bones/10/rotation = Quaternion(1.89836e-08, -0.00794691, 3.19999e-09, 0.999968)
bones/11/position = Vector3(-1.33089e-08, 0.262684, -1.64796e-09)
bones/11/rotation = Quaternion(0.7642, -0.00782596, 0.0105277, 0.644846)
bones/12/position = Vector3(-5.52768e-09, 0.222578, 1.42632e-08)
bones/12/rotation = Quaternion(1.00243e-08, 0.0011823, 3.32042e-08, 0.999999)
bones/13/position = Vector3(-4.59891e-09, 0.222578, 2.23431e-08)
bones/13/rotation = Quaternion(-0.645853, 0.0223941, -0.0352062, 0.762321)
bones/14/position = Vector3(-2.97626e-10, 0.139878, -1.17402e-08)
bones/14/rotation = Quaternion(-0.000103268, 0.967452, -0.253056, -0.000381689)
bones/15/position = Vector3(-0.093111, 0.934678, 0.0205799)
bones/15/rotation = Quaternion(0.987088, 0.00353144, 0.0288809, 0.157513)
bones/16/position = Vector3(8.32458e-09, 0.264167, -2.63007e-08)
bones/16/rotation = Quaternion(-1.53299e-08, 0.00483451, -2.1972e-08, 0.999988)
bones/17/position = Vector3(-2.88216e-10, 0.264167, 4.95633e-09)
bones/17/rotation = Quaternion(0.499455, 0.00481749, -0.00281991, 0.866322)
bones/18/position = Vector3(-1.46017e-08, 0.224146, -9.92681e-09)
bones/18/rotation = Quaternion(-1.12863e-08, -0.0118093, -1.91615e-08, 0.99993)
bones/19/position = Vector3(-8.1884e-09, 0.224146, -3.11048e-09)
bones/19/rotation = Quaternion(-0.754248, -0.0311936, 0.0158279, 0.655657)
bones/20/position = Vector3(1.05015e-08, 0.139878, -1.24335e-08)
bones/20/rotation = Quaternion(-9.948e-05, 0.967459, -0.253028, -0.000383113)
bones/21/position = Vector3(0.0549799, 1.36282, 0.137811)
bones/21/rotation = Quaternion(-0.44556, -0.263891, -0.421311, 0.744537)
bones/22/position = Vector3(0.221312, 1.40712, 0.0851108)
bones/22/rotation = Quaternion(-0.0950521, 0.0312574, 0.991185, -0.0868388)
bones/23/position = Vector3(-4.80069e-09, 0.140999, -7.96292e-08)
bones/23/rotation = Quaternion(2.07635e-08, -0.0725762, -2.46195e-08, 0.997363)
bones/24/position = Vector3(-5.21652e-08, 0.140999, -8.18925e-09)
bones/24/rotation = Quaternion(0.601655, -0.0762665, -0.291135, 0.739889)
bones/25/position = Vector3(-5.57658e-08, 0.124552, 2.12141e-08)
bones/25/rotation = Quaternion(1.03634e-07, 0.0363785, -7.10791e-08, 0.999338)
bones/26/position = Vector3(1.9518e-08, 0.124552, -2.52264e-08)
bones/26/rotation = Quaternion(0.0188521, 0.0361757, -0.257172, 0.965504)
bones/28/rotation = Quaternion(0.702583, -0.000939827, -0.00133552, 0.7116)
bones/29/rotation = Quaternion(0.741121, 0.00218241, 0.00265397, 0.671363)
bones/30/rotation = Quaternion(0.325269, 0.890055, 0.295977, -0.119997)
bones/31/rotation = Quaternion(0.514882, -0.114149, 0.114483, 0.841879)
bones/32/rotation = Quaternion(0.592004, -0.0381353, -0.0906986, 0.799907)
bones/34/position = Vector3(-0.00316937, 0.0987207, 0.0147917)
bones/34/rotation = Quaternion(-0.0674702, 0.718446, 0.0663963, 0.689112)
bones/35/rotation = Quaternion(0.580803, -0.000891695, -0.00149741, 0.814042)
bones/36/rotation = Quaternion(0.682777, 0.00174518, 0.00256632, 0.73062)
bones/37/rotation = Quaternion(-0.00426503, 0.736714, 0.0394785, 0.675038)
bones/38/position = Vector3(-0.00622958, 0.0926415, -0.0236344)
bones/38/rotation = Quaternion(-0.109873, 0.743351, 0.0333504, 0.658973)
bones/39/rotation = Quaternion(0.630038, 0.00151984, 0.00237885, 0.776559)
bones/40/rotation = Quaternion(0.652643, -0.00308132, -0.00421022, 0.757647)
bones/41/rotation = Quaternion(-0.0684176, 0.72411, 0.033234, 0.685477)
bones/42/position = Vector3(-0.00715376, 0.0679859, -0.0481985)
bones/42/rotation = Quaternion(-0.120913, 0.799109, 0.0358921, 0.587807)
bones/43/rotation = Quaternion(0.498693, -0.0202707, -0.0256953, 0.866161)
bones/44/rotation = Quaternion(0.715384, 0.0353063, 0.0573141, 0.695481)
bones/45/rotation = Quaternion(-0.12906, 0.728936, -0.025026, 0.67184)
bones/46/position = Vector3(0.0185081, 1.36228, 0.137399)
bones/46/rotation = Quaternion(-0.454333, 0.248297, 0.426701, 0.741523)
bones/47/position = Vector3(-0.147709, 1.40175, 0.0805325)
bones/47/rotation = Quaternion(-0.00716343, -0.161156, 0.977309, 0.137275)
bones/48/position = Vector3(-1.48512e-07, 0.143002, 7.07983e-08)
bones/48/rotation = Quaternion(7.91277e-08, 0.0896612, 1.01859e-07, 0.995972)
bones/49/position = Vector3(2.57023e-08, 0.143002, 5.7894e-08)
bones/49/rotation = Quaternion(0.349401, 0.0926698, 0.187556, 0.91332)
bones/50/position = Vector3(-4.80032e-08, 0.126642, 1.85305e-08)
bones/50/rotation = Quaternion(2.22692e-08, -0.0225492, -2.58518e-08, 0.999746)
bones/51/position = Vector3(8.27538e-08, 0.126643, -3.56006e-08)
bones/51/rotation = Quaternion(0.0207792, -0.0223195, -0.014581, 0.999429)
bones/52/rotation = Quaternion(-0.2563, 0.855859, 0.0299186, -0.448241)
bones/53/rotation = Quaternion(0.694912, 0.107145, -0.103548, 0.703488)
bones/54/rotation = Quaternion(0.741121, -0.00218297, -0.00265412, 0.671363)
bones/55/rotation = Quaternion(-0.325269, 0.890055, 0.295977, 0.119998)
bones/56/rotation = Quaternion(0.514882, 0.11415, -0.114483, 0.841879)
bones/57/rotation = Quaternion(0.592004, 0.0381348, 0.0906991, 0.799907)
bones/59/position = Vector3(0.00316932, 0.0987207, 0.014792)
bones/59/rotation = Quaternion(0.138771, -0.704916, 0.15571, 0.677931)
bones/60/rotation = Quaternion(0.579984, 0.0462614, -0.0308756, 0.812727)
bones/61/rotation = Quaternion(0.682777, -0.00174707, -0.0025646, 0.73062)
bones/62/rotation = Quaternion(-0.00426535, -0.736714, -0.0394787, 0.675038)
bones/63/position = Vector3(0.00622956, 0.0926412, -0.0236344)
bones/63/rotation = Quaternion(0.104096, -0.719607, 0.186263, 0.660784)
bones/64/rotation = Quaternion(0.670693, 0.0163391, -0.0185664, 0.741323)
bones/65/rotation = Quaternion(0.692499, 0.00330371, 0.00403905, 0.7214)
bones/66/rotation = Quaternion(-0.0684177, -0.72411, -0.0332338, 0.685477)
bones/67/position = Vector3(0.00715363, 0.0679856, -0.0481983)
bones/67/rotation = Quaternion(0.108364, -0.768224, 0.166291, 0.608635)
bones/68/rotation = Quaternion(0.629953, 0.0295148, 0.017751, 0.775869)
bones/69/rotation = Quaternion(0.816678, -0.0439534, -0.0509862, 0.573155)
bones/70/rotation = Quaternion(-0.12906, -0.728937, 0.0250258, 0.67184)
bones/71/position = Vector3(0.158865, 1.29985, 0.0542743)
bones/71/rotation = Quaternion(-0.00854006, 0.522662, 0.85249, -0.00351653)
bones/72/position = Vector3(-0.0816182, 1.29633, 0.0515595)
bones/72/rotation = Quaternion(-0.00854006, 0.522662, 0.85249, -0.00351653)

[node name="Knight_02" parent="CharacterRig/GameRig/Skeleton3D" index="1"]
visible = false

[node name="Villager_01" parent="CharacterRig/GameRig/Skeleton3D" index="2"]
visible = false

[node name="Villager_02" parent="CharacterRig/GameRig/Skeleton3D" index="3"]
visible = false

[node name="AnimationPlayer" parent="CharacterRig" index="1"]
autoplay = "Idle"

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../CharacterRig")
tree_root = SubResource("AnimationNodeStateMachine_32kt2")
anim_player = NodePath("../CharacterRig/AnimationPlayer")
parameters/MoveSpace/blend_position = 0.219079

[node name="RightHandBone" type="BoneAttachment3D" parent="."]
transform = Transform3D(-0.973269, -0.113987, -0.199385, 0.000502652, -0.8692, 0.494462, -0.229667, 0.481144, 0.846022, -0.243145, 0.916385, 0.104577)
bone_name = "DEF-hand.R"
bone_idx = 51
use_external_skeleton = true
external_skeleton = NodePath("../CharacterRig/GameRig/Skeleton3D")

[node name="WeaponSlot" type="Node3D" parent="RightHandBone"]
transform = Transform3D(-4.47035e-08, 1.49012e-08, 1, 0.996195, 0.0871556, 8.19564e-08, -0.0871559, 0.996195, -1.49012e-08, -0.03, 0.075, 0.01)

[node name="Longsword" parent="RightHandBone/WeaponSlot" instance=ExtResource("3_ojd8b")]

[node name="LeftHandBone" type="BoneAttachment3D" parent="."]
transform = Transform3D(-0.617304, -0.760334, 0.202058, 0.222263, 0.0778227, 0.971876, -0.754675, 0.644853, 0.120954, 0.177352, 1.10599, 0.337957)
bone_name = "DEF-hand.L"
bone_idx = 26
use_external_skeleton = true
external_skeleton = NodePath("../CharacterRig/GameRig/Skeleton3D")

[node name="ShieldSlot" type="Node3D" parent="LeftHandBone"]
transform = Transform3D(1.91069e-15, -4.37114e-08, -0.999999, -1, -4.37114e-08, 0, -4.37114e-08, 1, -4.37114e-08, -0.045, -0.07, -0.06)

[node name="Tall_Shield" parent="LeftHandBone/ShieldSlot" instance=ExtResource("4_awthv")]

[editable path="CharacterRig"]
